{"ast":null,"code":"var _jsxFileName = \"/Users/minbumkim/Desktop/[FE]/src/pages/report/Report.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { callReportRegistAPI } from \"../../apis/ReportAPICalls\";\nimport { useNavigate } from \"react-router-dom\";\nimport ButtonCSS from '../../styles/Button.module.css';\nimport ReportCSS from '../../styles/report/ReportCSS.module.css';\nimport modalCSS from '../../styles/Modal.module.css';\nimport { jwtDecode } from \"jwt-decode\";\nimport { getCookie } from \"../../modules/CookieModule\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Report({\n  nickName,\n  productCode,\n  sellStatus,\n  productName,\n  setModalOpen\n}) {\n  _s();\n  // 모달창 끄기 버튼\n  const closeModal = () => {\n    setModalOpen(false);\n  };\n  // 모달 외부 클릭시 끄기\n  // Modal창을 useRef 관리\n  const modalRef = useRef < HTMLDivElement > null;\n  useEffect(() => {\n    // 이벤트 핸들러 함수\n    const handler = () => {\n      // mousedown 이벤트가 발생한 영역이 모달칭이 아닐 때, 모달창 제거 \n      if (modalRef.current && !modalRef.current.contains(Event.target)) {\n        setModalOpen(false);\n      }\n    };\n  }, []);\n  const seller = jwtDecode(getCookie(\"accessToken\")).userName;\n  console.log('유저 정보', seller);\n  const navigate = useNavigate();\n\n  // 리덕스를 이용하기 위한 디스 패처 셀렉터 선언\n  const dispatch = useDispatch();\n  const [reportForm, setReportForm] = useState({\n    // reportUserNick: nickName,\n    reportUserNick: seller,\n    refReportCategoryNo: 0,\n    productCode: productCode,\n    reportComment: '',\n    sellStatusCode: sellStatus\n  });\n\n  // form Data Set\n  const onChangeHandler = e => {\n    setReportForm({\n      ...reportForm,\n      [e.target.name]: e.target.value\n    });\n  };\n  const onClickRegisterHandler = () => {\n    console.log('[ReportRegisteration] onClickReportRegisterationHandler');\n    const formData = new FormData();\n    formData.append(\"reportUserNick\", reportForm.reportUserNick);\n    formData.append(\"refReportCategoryNo\", reportForm.refReportCategoryNo);\n    formData.append(\"productCode\", reportForm.productCode);\n    formData.append(\"reportComment\", reportForm.reportComment);\n    formData.append(\"sellStatusCode\", reportForm.sellStatusCode);\n\n    // console.log(\"bbbbb\", formData);\n    // console.log('[ReportRegist] fromData reportUserNick : ', formData.get('reportUserNick'));\n    // console.log('[ReportRegist] fromData refReportCategoryNo : ', formData.get('refReportCategoryNo'));\n    // console.log('[ReportRegist] fromData productCode : ', formData.get('productCode'));\n    // console.log('[ReportRegist] fromData reportComment : ', formData.get('reportComment'));\n    // console.log('[ReportRegist] fromData sellStatusCode : ', formData.get('sellStatusCode'));\n    // console.log(\"aaaa\", formData);\n    dispatch(callReportRegistAPI({\n      form: formData\n    }));\n    alert('신고 접수가 완료되었습니다.');\n    setModalOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: modalCSS.container,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: closeModal,\n        className: modalCSS.close,\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uC2E0\\uACE0\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\uC2E0\\uACE0\\uBD84\\uB958\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"refReportCategoryNo\",\n          onChange: onChangeHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"\\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 1,\n            children: \"\\uAD11\\uACE0\\uC131 \\uCEE8\\uD150\\uCE20\\uC5D0\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2,\n            children: \"\\uAC70\\uB798 \\uAE08\\uC9C0 \\uD488\\uBAA9\\uC774\\uC5D0\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 3,\n            children: \"\\uAC00\\uD488, \\uC774\\uBBF8\\uD14C\\uC774\\uC158\\uC81C\\uD488\\uC774\\uC5D0\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 4,\n            children: \"\\uC0AC\\uAE30\\uAC00\\uC758\\uC2EC\\uB3FC\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\uD310\\uB9E4\\uAC8C\\uC2DC\\uAE00 : \", productName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\uC2E0\\uACE0\\uC0AC\\uC720\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          name: \"reportComment\",\n          onChange: onChangeHandler,\n          cols: 40,\n          rows: 5,\n          placeholder: \"\\uC2E0\\uACE0 \\uB0B4\\uC6A9\\uC744 \\uC9C1\\uC811 \\uC791\\uC131\\uD574\\uC8FC\\uC138\\uC694. \\r\\uC790\\uC138\\uD558\\uAC8C \\uC801\\uC5B4\\uC8FC\\uC2DC\\uBA74 \\uC2E0\\uACE0\\uCC98\\uB9AC\\uC5D0 \\uD070 \\uB3C4\\uC6C0\\uC774 \\uB429\\uB2C8\\uB2E4.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: ButtonCSS.smallBtn2,\n          onClick: onClickRegisterHandler,\n          children: \"\\uBCF4\\uB0B4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(Report, \"lmEPVszmbx4goS2pDI9K1lpZMgw=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Report;\nexport default Report;\nvar _c;\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"names":["useEffect","useState","useRef","useDispatch","callReportRegistAPI","useNavigate","ButtonCSS","ReportCSS","modalCSS","jwtDecode","getCookie","jsxDEV","_jsxDEV","Fragment","_Fragment","Report","nickName","productCode","sellStatus","productName","setModalOpen","_s","closeModal","modalRef","HTMLDivElement","handler","current","contains","Event","target","seller","userName","console","log","navigate","dispatch","reportForm","setReportForm","reportUserNick","refReportCategoryNo","reportComment","sellStatusCode","onChangeHandler","e","name","value","onClickRegisterHandler","formData","FormData","append","form","alert","children","className","container","onClick","close","fileName","_jsxFileName","lineNumber","columnNumber","onChange","cols","rows","placeholder","smallBtn2","_c","$RefreshReg$"],"sources":["/Users/minbumkim/Desktop/[FE]/src/pages/report/Report.js"],"sourcesContent":["import { useEffect, useState, useRef } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { callReportRegistAPI } from \"../../apis/ReportAPICalls\";\nimport { useNavigate } from \"react-router-dom\";\nimport ButtonCSS from '../../styles/Button.module.css'\nimport ReportCSS from '../../styles/report/ReportCSS.module.css';\nimport modalCSS from '../../styles/Modal.module.css'\nimport { jwtDecode } from \"jwt-decode\";\nimport { getCookie } from \"../../modules/CookieModule\";\n\nfunction Report({ nickName, productCode, sellStatus, productName, setModalOpen }) {\n\n    // 모달창 끄기 버튼\n    const closeModal = () => {\n        setModalOpen(false);\n    };\n    // 모달 외부 클릭시 끄기\n    // Modal창을 useRef 관리\n    const modalRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        // 이벤트 핸들러 함수\n        const handler = () => {\n            // mousedown 이벤트가 발생한 영역이 모달칭이 아닐 때, 모달창 제거 \n            if(modalRef.current && !modalRef.current.contains(Event.target)){\n                setModalOpen(false)\n            }\n        };\n    }, []\n    );\n    const seller = jwtDecode(getCookie(\"accessToken\")).userName;\n    console.log('유저 정보', seller);\n    const navigate = useNavigate();\n\n    // 리덕스를 이용하기 위한 디스 패처 셀렉터 선언\n    const dispatch = useDispatch();\n\n    const [reportForm, setReportForm] = useState({\n        // reportUserNick: nickName,\n        reportUserNick: seller,\n        refReportCategoryNo: 0,\n        productCode: productCode,\n        reportComment: '',\n        sellStatusCode: sellStatus\n    });\n\n\n\n    // form Data Set\n    const onChangeHandler = (e) => {\n        setReportForm({\n            ...reportForm,\n            [e.target.name]: e.target.value\n        });\n    }\n\n    const onClickRegisterHandler = () => {\n        console.log('[ReportRegisteration] onClickReportRegisterationHandler')\n\n        const formData = new FormData();\n\n        formData.append(\"reportUserNick\", reportForm.reportUserNick);\n        formData.append(\"refReportCategoryNo\", reportForm.refReportCategoryNo);\n        formData.append(\"productCode\", reportForm.productCode);\n        formData.append(\"reportComment\", reportForm.reportComment);\n        formData.append(\"sellStatusCode\", reportForm.sellStatusCode);\n\n        // console.log(\"bbbbb\", formData);\n        // console.log('[ReportRegist] fromData reportUserNick : ', formData.get('reportUserNick'));\n        // console.log('[ReportRegist] fromData refReportCategoryNo : ', formData.get('refReportCategoryNo'));\n        // console.log('[ReportRegist] fromData productCode : ', formData.get('productCode'));\n        // console.log('[ReportRegist] fromData reportComment : ', formData.get('reportComment'));\n        // console.log('[ReportRegist] fromData sellStatusCode : ', formData.get('sellStatusCode'));\n        // console.log(\"aaaa\", formData);\n        dispatch(callReportRegistAPI({\n            form: formData\n        }))\n        alert('신고 접수가 완료되었습니다.')\n        setModalOpen(false)\n    }\n    return (\n        <>\n            <div className={modalCSS.container}>\n                <button onClick={closeModal} className={modalCSS.close}>X</button>\n                <div>\n                    <h2>신고하기</h2>\n                    <hr />\n                    <label>신고분류</label>\n                    <select name=\"refReportCategoryNo\" onChange={onChangeHandler}>\n                        <option>선택해주세요.</option>\n                        <option value={1}>광고성 컨텐츠에요</option>\n                        <option value={2}>거래 금지 품목이에요</option>\n                        <option value={3}>가품, 이미테이션제품이에요</option>\n                        <option value={4}>사기가의심돼요</option>\n                    </select>\n\n                    <div>판매게시글 : {productName}</div>\n\n                    <div>신고사유</div>\n                    <textarea\n                        name=\"reportComment\"\n                        onChange={onChangeHandler}\n                        cols={40}\n                        rows={5}\n                        placeholder=\"신고 내용을 직접 작성해주세요. &#13;자세하게 적어주시면 신고처리에 큰 도움이 됩니다.\" />\n                    <button className={ButtonCSS.smallBtn2} onClick={onClickRegisterHandler}>보내기</button>\n                </div>\n            </div>\n        </>\n    );\n\n}\nexport default Report;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,mBAAmB,QAAQ,2BAA2B;AAC/D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,SAAS,MAAM,gCAAgC;AACtD,OAAOC,SAAS,MAAM,0CAA0C;AAChE,OAAOC,QAAQ,MAAM,+BAA+B;AACpD,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEvD,SAASC,MAAMA,CAAC;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,UAAU;EAAEC,WAAW;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EAE9E;EACA,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACrBF,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EACD;EACA;EACA,MAAMG,QAAQ,GAAGrB,MAAM,GAACsB,cAAc,GAAE,IAAK;EAE7CxB,SAAS,CAAC,MAAM;IACZ;IACA,MAAMyB,OAAO,GAAGA,CAAA,KAAM;MAClB;MACA,IAAGF,QAAQ,CAACG,OAAO,IAAI,CAACH,QAAQ,CAACG,OAAO,CAACC,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAC,EAAC;QAC5DT,YAAY,CAAC,KAAK,CAAC;MACvB;IACJ,CAAC;EACL,CAAC,EAAE,EACH,CAAC;EACD,MAAMU,MAAM,GAAGrB,SAAS,CAACC,SAAS,CAAC,aAAa,CAAC,CAAC,CAACqB,QAAQ;EAC3DC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEH,MAAM,CAAC;EAC5B,MAAMI,QAAQ,GAAG7B,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAM8B,QAAQ,GAAGhC,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACiC,UAAU,EAAEC,aAAa,CAAC,GAAGpC,QAAQ,CAAC;IACzC;IACAqC,cAAc,EAAER,MAAM;IACtBS,mBAAmB,EAAE,CAAC;IACtBtB,WAAW,EAAEA,WAAW;IACxBuB,aAAa,EAAE,EAAE;IACjBC,cAAc,EAAEvB;EACpB,CAAC,CAAC;;EAIF;EACA,MAAMwB,eAAe,GAAIC,CAAC,IAAK;IAC3BN,aAAa,CAAC;MACV,GAAGD,UAAU;MACb,CAACO,CAAC,CAACd,MAAM,CAACe,IAAI,GAAGD,CAAC,CAACd,MAAM,CAACgB;IAC9B,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;IACjCd,OAAO,CAACC,GAAG,CAAC,yDAAyD,CAAC;IAEtE,MAAMc,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAE/BD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEb,UAAU,CAACE,cAAc,CAAC;IAC5DS,QAAQ,CAACE,MAAM,CAAC,qBAAqB,EAAEb,UAAU,CAACG,mBAAmB,CAAC;IACtEQ,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEb,UAAU,CAACnB,WAAW,CAAC;IACtD8B,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEb,UAAU,CAACI,aAAa,CAAC;IAC1DO,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEb,UAAU,CAACK,cAAc,CAAC;;IAE5D;IACA;IACA;IACA;IACA;IACA;IACA;IACAN,QAAQ,CAAC/B,mBAAmB,CAAC;MACzB8C,IAAI,EAAEH;IACV,CAAC,CAAC,CAAC;IACHI,KAAK,CAAC,iBAAiB,CAAC;IACxB/B,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EACD,oBACIR,OAAA,CAAAE,SAAA;IAAAsC,QAAA,eACIxC,OAAA;MAAKyC,SAAS,EAAE7C,QAAQ,CAAC8C,SAAU;MAAAF,QAAA,gBAC/BxC,OAAA;QAAQ2C,OAAO,EAAEjC,UAAW;QAAC+B,SAAS,EAAE7C,QAAQ,CAACgD,KAAM;QAAAJ,QAAA,EAAC;MAAC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAClEhD,OAAA;QAAAwC,QAAA,gBACIxC,OAAA;UAAAwC,QAAA,EAAI;QAAI;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACbhD,OAAA;UAAA6C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACNhD,OAAA;UAAAwC,QAAA,EAAO;QAAI;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnBhD,OAAA;UAAQgC,IAAI,EAAC,qBAAqB;UAACiB,QAAQ,EAAEnB,eAAgB;UAAAU,QAAA,gBACzDxC,OAAA;YAAAwC,QAAA,EAAQ;UAAO;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxBhD,OAAA;YAAQiC,KAAK,EAAE,CAAE;YAAAO,QAAA,EAAC;UAAS;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpChD,OAAA;YAAQiC,KAAK,EAAE,CAAE;YAAAO,QAAA,EAAC;UAAW;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACtChD,OAAA;YAAQiC,KAAK,EAAE,CAAE;YAAAO,QAAA,EAAC;UAAc;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACzChD,OAAA;YAAQiC,KAAK,EAAE,CAAE;YAAAO,QAAA,EAAC;UAAO;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC,eAEThD,OAAA;UAAAwC,QAAA,GAAK,mCAAQ,EAACjC,WAAW;QAAA;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAEhChD,OAAA;UAAAwC,QAAA,EAAK;QAAI;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACfhD,OAAA;UACIgC,IAAI,EAAC,eAAe;UACpBiB,QAAQ,EAAEnB,eAAgB;UAC1BoB,IAAI,EAAE,EAAG;UACTC,IAAI,EAAE,CAAE;UACRC,WAAW,EAAC;QAAoD;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvEhD,OAAA;UAAQyC,SAAS,EAAE/C,SAAS,CAAC2D,SAAU;UAACV,OAAO,EAAET,sBAAuB;UAAAM,QAAA,EAAC;QAAG;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC,gBACR,CAAC;AAGX;AAACvC,EAAA,CArGQN,MAAM;EAAA,QAsBMV,WAAW,EAGXF,WAAW;AAAA;AAAA+D,EAAA,GAzBvBnD,MAAM;AAsGf,eAAeA,MAAM;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}