{"ast":null,"code":"import axios from \"axios\";\nimport { GET_CATEGORIES } from \"../modules/ProductCategoryModule\";\nimport { GET_PRODUCTLIST } from \"../modules/ProductListModule\";\nimport { GET_MESSAGES_RESULT, GET_PRODUCT_DETAIL, GET_WISHLIST_AGAIN, GET_WISHLIST_DELELE_RESULT, GET_WISHLIST_REGIST_RESULT } from \"../modules/ProductModule\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { getCookie } from \"../modules/CookieModule\";\nexport const callGetProductCategory = () => {\n  const requestURL = `http://localhost:8000/categories`;\n  return async (dispatch, getState) => {\n    const result = await axios.get(requestURL, {\n      headers: {\n        \"Accept\": \"*/*\"\n      }\n    }).then(result => result.data.results.productCategoryList);\n    dispatch({\n      type: GET_CATEGORIES,\n      payload: result\n    });\n  };\n};\nexport const callGetProductList = type => {\n  let requestURL = `http://localhost:8000/products?pageKind=${type}`;\n  const params = new URLSearchParams(window.location.search);\n  if (params.get(\"page\")) {\n    requestURL += `&page=${params.get(\"page\")}`;\n  }\n  if (params.get(\"categoryCode\")) {\n    requestURL += `&categoryCode=${params.get(\"categoryCode\")}`;\n  }\n  if (params.get(\"sortCondition\")) {\n    requestURL += `&sortCondition=${params.get(\"sortCondition\")}`;\n  }\n  if (params.get(\"minPrice\")) {\n    requestURL += `&minPrice=${params.get(\"minPrice\")}`;\n  }\n  if (window.localStorage.getItem(\"remainMoneySearch\") && type === \"merge\") {\n    if (+window.localStorage.getItem(\"remainMoneySearch\") >= 0) {\n      requestURL += `&maxPrice=${parseInt(+window.localStorage.getItem(\"remainMoney\") * 1.1)}`;\n    } else {\n      requestURL += `&maxPrice=${0}`;\n    }\n  }\n  if (params.get(\"maxPrice\")) {\n    requestURL += `&maxPrice=${params.get(\"maxPrice\")}`;\n  }\n  return async (dispatch, getState) => {\n    const result = await axios.get(requestURL, {\n      headers: {\n        \"Accept\": \"*/*\"\n      }\n    }).then(result => result.data.results);\n    dispatch({\n      type: GET_PRODUCTLIST,\n      payload: [result]\n    });\n  };\n};\nexport const callMessagesRegistAPI = (productCode, refUserCode) => {\n  let requestURL = `http://localhost:8000/messages`;\n  let date = new Date().toISOString().substring(0, 10);\n  return async (dispatch, getState) => {\n    const result = await axios.post(requestURL, {\n      msgCode: 0,\n      msgContent: \"상품 구매합니다.\",\n      msgDeleteInfoMsgDeleteDTO: {\n        msgDeleteCode: 1,\n        msgDeleteStatus: \"N\"\n      },\n      msgStatus: \"N\",\n      msgTime: date,\n      receiverCode: refUserCode,\n      refProductCode: productCode,\n      senderCode: jwtDecode(getCookie(\"accessToken\")).userCode\n    }).then(response => response);\n    dispatch({\n      type: GET_MESSAGES_RESULT,\n      payload: 1\n    });\n  };\n};\nexport const callGetProductDetail = path => {\n  const requestURL = `http://localhost:8000/products/${path}`;\n  let isView;\n  if (!window.localStorage.getItem(`${path}view`)) {\n    window.localStorage.setItem(`${path}view`, 1);\n    isView = \"false\";\n  } else {\n    isView = \"true\";\n  }\n  return async (dispatch, getState) => {\n    const result = await axios.get(requestURL, {\n      headers: {\n        \"Accept\": \"*/*\"\n      },\n      params: {\n        isView: isView,\n        userCode: getCookie(\"accessToken\") && jwtDecode(getCookie(\"accessToken\")).userCode\n      }\n    }).then(result => result.data.results);\n    dispatch({\n      type: GET_PRODUCT_DETAIL,\n      payload: result\n    });\n  };\n};\nexport const callWishListRegistAPI = productCode => {\n  let requestURL = `http://localhost:8000/products/${productCode}/wishLists`;\n  return async (dispatch, getState) => {\n    const result = await axios.post(requestURL, {\n      refUserCode: jwtDecode(getCookie(\"accessToken\")).userCode\n    }).then(response => response.data.results.result);\n    dispatch({\n      type: GET_WISHLIST_REGIST_RESULT,\n      payload: result\n    });\n  };\n};","map":{"version":3,"names":["axios","GET_CATEGORIES","GET_PRODUCTLIST","GET_MESSAGES_RESULT","GET_PRODUCT_DETAIL","GET_WISHLIST_AGAIN","GET_WISHLIST_DELELE_RESULT","GET_WISHLIST_REGIST_RESULT","jwtDecode","getCookie","callGetProductCategory","requestURL","dispatch","getState","result","get","headers","then","data","results","productCategoryList","type","payload","callGetProductList","params","URLSearchParams","window","location","search","localStorage","getItem","parseInt","callMessagesRegistAPI","productCode","refUserCode","date","Date","toISOString","substring","post","msgCode","msgContent","msgDeleteInfoMsgDeleteDTO","msgDeleteCode","msgDeleteStatus","msgStatus","msgTime","receiverCode","refProductCode","senderCode","userCode","response","callGetProductDetail","path","isView","setItem","callWishListRegistAPI"],"sources":["/Users/minbumkim/Desktop/[FE]/src/apis/ProductAPICalls.js"],"sourcesContent":["import axios from \"axios\";\nimport { GET_CATEGORIES } from \"../modules/ProductCategoryModule\";\nimport { GET_PRODUCTLIST } from \"../modules/ProductListModule\";\nimport { GET_MESSAGES_RESULT, GET_PRODUCT_DETAIL, GET_WISHLIST_AGAIN, GET_WISHLIST_DELELE_RESULT, GET_WISHLIST_REGIST_RESULT } from \"../modules/ProductModule\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { getCookie } from \"../modules/CookieModule\";\n\nexport const callGetProductCategory = () => {\n    const requestURL = `http://localhost:8000/categories`;\n\n    return async (dispatch, getState) => {\n        const result = await axios.get(requestURL, {\n            headers: {\n                \"Accept\": \"*/*\"\n            }\n        }).then(\n            result => result.data.results.productCategoryList\n        );\n\n        dispatch({ type: GET_CATEGORIES, payload: result});\n    };\n}\n\nexport const callGetProductList = (type) => {\n    let requestURL = `http://localhost:8000/products?pageKind=${type}`;\n\n    const params = new URLSearchParams(window.location.search);\n    if(params.get(\"page\")) {\n        requestURL += `&page=${params.get(\"page\")}`;\n    }\n    if(params.get(\"categoryCode\")) {\n        requestURL += `&categoryCode=${params.get(\"categoryCode\")}`;\n    }\n    if(params.get(\"sortCondition\")) {\n        requestURL += `&sortCondition=${params.get(\"sortCondition\")}`;\n    }\n    if(params.get(\"minPrice\")) {\n        requestURL += `&minPrice=${params.get(\"minPrice\")}`;\n    }\n    if(window.localStorage.getItem(\"remainMoneySearch\") && type === \"merge\") {\n        if((+window.localStorage.getItem(\"remainMoneySearch\")) >= 0) {\n            requestURL += `&maxPrice=${parseInt(+window.localStorage.getItem(\"remainMoney\") * 1.1)}`;\n        } else {\n            requestURL += `&maxPrice=${0}`;\n        }\n    }\n    if(params.get(\"maxPrice\")) {\n        requestURL += `&maxPrice=${params.get(\"maxPrice\")}`;\n    }\n    return async (dispatch, getState) => {\n        const result = await axios.get(requestURL, {\n            headers: {\n                \"Accept\": \"*/*\"\n            }\n        }).then(\n            result => result.data.results\n        );\n\n        dispatch({ type: GET_PRODUCTLIST, payload: [result]});\n    };\n}\n\nexport const callMessagesRegistAPI = (productCode, refUserCode) => {\n    let requestURL = `http://localhost:8000/messages`;\n    let date = new Date().toISOString().substring(0, 10); \n\n    return async (dispatch, getState) => {\n        const result = await axios.post(requestURL, {\n            msgCode: 0,\n            msgContent: \"상품 구매합니다.\",\n            msgDeleteInfoMsgDeleteDTO: {\n                msgDeleteCode: 1,\n                msgDeleteStatus: \"N\"\n            },\n            msgStatus: \"N\",\n            msgTime: date,\n            receiverCode: refUserCode,\n            refProductCode: productCode,\n            senderCode: jwtDecode(getCookie(\"accessToken\")).userCode\n        }\n        ).then(response => response);\n        dispatch({ type: GET_MESSAGES_RESULT, payload: 1});\n    };\n}\n\nexport const callGetProductDetail = path => {\n\n    const requestURL = `http://localhost:8000/products/${path}`;\n\n    let isView;\n    if(!window.localStorage.getItem(`${path}view`)) {\n        window.localStorage.setItem(`${path}view`, 1);\n        isView = \"false\";\n    } else {\n        isView = \"true\";\n    }\n\n    return async (dispatch, getState) => {\n        const result = await axios.get(requestURL, {\n            headers: {\n                \"Accept\": \"*/*\"\n            },\n            params: {\n                isView: isView,\n                userCode: getCookie(\"accessToken\") && jwtDecode(getCookie(\"accessToken\")).userCode\n            }\n        }).then(\n            result => result.data.results\n        );\n\n        dispatch({ type: GET_PRODUCT_DETAIL, payload: result});\n    };\n}\n\nexport const callWishListRegistAPI = productCode => {\n    let requestURL = `http://localhost:8000/products/${productCode}/wishLists`;\n    return async (dispatch, getState) => {\n        const result = await axios.post(requestURL, {\n            refUserCode: jwtDecode(getCookie(\"accessToken\")).userCode\n        }\n        ).then(response => response.data.results.result);\n        dispatch({ type: GET_WISHLIST_REGIST_RESULT, payload: result});\n    };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}