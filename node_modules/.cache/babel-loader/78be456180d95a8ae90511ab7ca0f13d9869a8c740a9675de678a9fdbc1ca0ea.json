{"ast":null,"code":"import { POST_LOGIN, POST_JOIN, GET_USERS } from '../modules/UserModule';\nimport { Cookies } from \"react-cookie\";\nconst cookies = new Cookies();\nconst COOKIE_NAME = 'accessToken';\nexport const callLoginAPI = ({\n  form\n}) => {\n  const requestURL = `http://${process.env.REACT_APP_RESTAPI_IP}:8000/login`;\n  return async (dispatch, getState) => {\n    try {\n      const result = await fetch(requestURL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"*/*\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        },\n        body: JSON.stringify({\n          id: form.id,\n          pwd: form.pwd\n        })\n      }).then(response => response.json());\n      console.log('[UserAPICalls] callLoginAPI RESULT : ', result);\n      if (result.status === 200) {\n        cookies.set(COOKIE_NAME, result.data.accessToken, {\n          path: '/'\n        });\n      }\n      dispatch({\n        type: POST_LOGIN,\n        payload: result\n      });\n    } catch (error) {\n      console.error('[UserAPICalls] callLoginAPI Error:', error.message);\n    }\n  };\n};\nexport const callLogoutAPI = () => {\n  return dispatch => {\n    cookies.remove(COOKIE_NAME, {\n      path: '/'\n    });\n    dispatch({\n      type: POST_LOGIN,\n      payload: ''\n    });\n    console.log('[UserAPICalls] callLogoutAPI RESULT : SUCCESS');\n  };\n};\nexport const callJoinAPI = userData => {\n  const requestURL = `http://${process.env.REACT_APP_RESTAPI_IP}:8000/join`;\n  return async (dispatch, getState) => {\n    const result = await fetch(requestURL, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Accept: \"*/*\",\n        \"Access-Control-Allow-Origin\": \"*\"\n      },\n      body: JSON.stringify({\n        //   id: id,\n        //   pwd: pwd,\n      })\n    });\n  };\n};\nexport const callGetUserAPI = () => {\n  // 사용자 목록 가져오기 API 호출 및 로직 작성\n};","map":{"version":3,"names":["POST_LOGIN","POST_JOIN","GET_USERS","Cookies","cookies","COOKIE_NAME","callLoginAPI","form","requestURL","process","env","REACT_APP_RESTAPI_IP","dispatch","getState","result","fetch","method","headers","Accept","body","JSON","stringify","id","pwd","then","response","json","console","log","status","set","data","accessToken","path","type","payload","error","message","callLogoutAPI","remove","callJoinAPI","userData","callGetUserAPI"],"sources":["/Users/minbumkim/Desktop/[FE]/src/apis/UserAPICalls.js"],"sourcesContent":["import{ POST_LOGIN,POST_JOIN,GET_USERS } from '../modules/UserModule';\nimport { Cookies } from \"react-cookie\";\n\nconst cookies = new Cookies();\nconst COOKIE_NAME = 'accessToken';\n\nexport const callLoginAPI = ({form}) => {\n    const requestURL = `http://${process.env.REACT_APP_RESTAPI_IP}:8000/login`;\n\n    return async (dispatch, getState) => {\n\n        try {\n            const result = await fetch(requestURL, {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\",\n                  Accept: \"*/*\",\n                  \"Access-Control-Allow-Origin\": \"*\",\n                },\n                body: JSON.stringify({\n                  id: form.id,\n                  pwd: form.pwd,\n                })\n              })\n              .then(response => response.json());\n\n              console.log('[UserAPICalls] callLoginAPI RESULT : ', result);\n\n              if (result.status === 200) {\n                cookies.set(COOKIE_NAME, result.data.accessToken, { path: '/' });\n              }\n\n              dispatch({type: POST_LOGIN, payload: result});\n            \n        } catch (error) {\n            console.error('[UserAPICalls] callLoginAPI Error:', error.message);            \n        }\n        \n    };\n};\n\nexport const callLogoutAPI = () => {\n\n    return (dispatch) => {\n        cookies.remove(COOKIE_NAME, { path: '/' });\n    \n        dispatch({ type: POST_LOGIN, payload: '' });\n        console.log('[UserAPICalls] callLogoutAPI RESULT : SUCCESS');\n      };\n};\n\nexport const callJoinAPI = (userData) => {\n    const requestURL = `http://${process.env.REACT_APP_RESTAPI_IP}:8000/join`;\n\n    return async (dispatch, getState) => {\n    const result = await fetch(requestURL, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Accept: \"*/*\",\n          \"Access-Control-Allow-Origin\": \"*\",\n        },\n        body: JSON.stringify({\n        //   id: id,\n        //   pwd: pwd,\n        }),\n      });\n\n  };\n};\n  \n  export const callGetUserAPI = () => {\n    // 사용자 목록 가져오기 API 호출 및 로직 작성\n  };\n\n\n"],"mappings":"AAAA,SAAQA,UAAU,EAACC,SAAS,EAACC,SAAS,QAAQ,uBAAuB;AACrE,SAASC,OAAO,QAAQ,cAAc;AAEtC,MAAMC,OAAO,GAAG,IAAID,OAAO,CAAC,CAAC;AAC7B,MAAME,WAAW,GAAG,aAAa;AAEjC,OAAO,MAAMC,YAAY,GAAGA,CAAC;EAACC;AAAI,CAAC,KAAK;EACpC,MAAMC,UAAU,GAAI,UAASC,OAAO,CAACC,GAAG,CAACC,oBAAqB,aAAY;EAE1E,OAAO,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAEjC,IAAI;MACA,MAAMC,MAAM,GAAG,MAAMC,KAAK,CAACP,UAAU,EAAE;QACnCQ,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,MAAM,EAAE,KAAK;UACb,6BAA6B,EAAE;QACjC,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,EAAE,EAAEf,IAAI,CAACe,EAAE;UACXC,GAAG,EAAEhB,IAAI,CAACgB;QACZ,CAAC;MACH,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC;MAElCC,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEd,MAAM,CAAC;MAE5D,IAAIA,MAAM,CAACe,MAAM,KAAK,GAAG,EAAE;QACzBzB,OAAO,CAAC0B,GAAG,CAACzB,WAAW,EAAES,MAAM,CAACiB,IAAI,CAACC,WAAW,EAAE;UAAEC,IAAI,EAAE;QAAI,CAAC,CAAC;MAClE;MAEArB,QAAQ,CAAC;QAACsB,IAAI,EAAElC,UAAU;QAAEmC,OAAO,EAAErB;MAAM,CAAC,CAAC;IAEnD,CAAC,CAAC,OAAOsB,KAAK,EAAE;MACZT,OAAO,CAACS,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAACC,OAAO,CAAC;IACtE;EAEJ,CAAC;AACL,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAE/B,OAAQ1B,QAAQ,IAAK;IACjBR,OAAO,CAACmC,MAAM,CAAClC,WAAW,EAAE;MAAE4B,IAAI,EAAE;IAAI,CAAC,CAAC;IAE1CrB,QAAQ,CAAC;MAAEsB,IAAI,EAAElC,UAAU;MAAEmC,OAAO,EAAE;IAAG,CAAC,CAAC;IAC3CR,OAAO,CAACC,GAAG,CAAC,+CAA+C,CAAC;EAC9D,CAAC;AACP,CAAC;AAED,OAAO,MAAMY,WAAW,GAAIC,QAAQ,IAAK;EACrC,MAAMjC,UAAU,GAAI,UAASC,OAAO,CAACC,GAAG,CAACC,oBAAqB,YAAW;EAEzE,OAAO,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;IACrC,MAAMC,MAAM,GAAG,MAAMC,KAAK,CAACP,UAAU,EAAE;MACnCQ,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,qBAAqB;QACrCC,MAAM,EAAE,KAAK;QACb,6BAA6B,EAAE;MACjC,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACrB;QACA;MAAA,CACC;IACH,CAAC,CAAC;EAEN,CAAC;AACH,CAAC;AAEC,OAAO,MAAMqB,cAAc,GAAGA,CAAA,KAAM;EAClC;AAAA,CACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}